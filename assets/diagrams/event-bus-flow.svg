<svg width="980" height="220" viewBox="0 0 980 220" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Event bus flow diagram">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="6" refY="4" orient="auto">
      <path d="M0 0 L8 4 L0 8 z" fill="#60a5fa"/>
    </marker>
  </defs>
  
  <rect x="8" y="8" width="964" height="204" rx="12" fill="#061126" opacity="0.02"/>

  <!-- lanes -->
  <g transform="translate(40,28)">
    <!-- Prompt -->
    <rect x="0" y="0" width="180" height="72" rx="10" fill="#081226" stroke="#1b2a3a"/>
    <text x="90" y="22" text-anchor="middle" font-size="13" fill="#dbeafe" font-weight="700">PromptEvent</text>
    <text x="90" y="42" text-anchor="middle" font-size="11" fill="#9fb7d9">user → agent</text>

    <!-- arrow -->
    <path d="M180 36 L260 36" stroke="#60a5fa" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- ModelResponse -->
    <rect x="260" y="-2" width="180" height="72" rx="10" fill="#081226" stroke="#1b2a3a"/>
    <text x="350" y="22" text-anchor="middle" font-size="13" fill="#dbeafe" font-weight="700">ModelResponseEvent</text>
    <text x="350" y="42" text-anchor="middle" font-size="11" fill="#9fb7d9">LLM → agent</text>

    <!-- arrow -->
    <path d="M440 36 L520 36" stroke="#7dd3fc" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- ToolInvocation -->
    <rect x="520" y="-2" width="180" height="72" rx="10" fill="#081226" stroke="#1b2a3a"/>
    <text x="610" y="22" text-anchor="middle" font-size="13" fill="#dbeafe" font-weight="700">ToolInvocationEvent</text>
    <text x="610" y="42" text-anchor="middle" font-size="11" fill="#9fb7d9">agent → Tool Engine</text>

    <!-- arrow -->
    <path d="M700 36 L760 36" stroke="#34d399" stroke-width="2" marker-end="url(#arrow)"/>

    <!-- ToolResult -->
    <rect x="760" y="-2" width="170" height="72" rx="10" fill="#081226" stroke="#1b2a3a"/>
    <text x="845" y="22" text-anchor="middle" font-size="13" fill="#dbeafe" font-weight="700">ToolResultEvent</text>
    <text x="845" y="42" text-anchor="middle" font-size="11" fill="#9fb7d9">Tool → agent</text>

    <!-- return arrow to Model -->
    <path d="M760 36 L520 120 L350 120" stroke="#a78bfa" stroke-width="1.8" fill="none" marker-end="url(#arrow)"/>

  </g>
</svg>

